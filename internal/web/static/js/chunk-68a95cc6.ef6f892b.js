(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-68a95cc6"],{1:function(e,t){},"2f67":function(e,t,s){},"4ab4":function(e,t,s){"use strict";s("2f67")},7718:function(e,t,s){e.exports=s.p+"static/img/background.e59d04cc.webp"},dd7b:function(e,t,s){"use strict";s.r(t);var r=function(){var e=this,t=e._self._c;return t("div",{staticClass:"login",style:"background-image:url("+e.Background+");"},[t("el-form",{ref:"loginForm",staticClass:"login-form",attrs:{model:e.loginForm,rules:e.loginRules,"label-position":"left","label-width":"0px"}},[t("h3",{staticClass:"title"},[e._v("\n      Aurora 后台管理系统\n    ")]),e._v(" "),t("el-form-item",{attrs:{prop:"username"}},[t("el-input",{attrs:{type:"text","auto-complete":"off",placeholder:"账号"},model:{value:e.loginForm.username,callback:function(t){e.$set(e.loginForm,"username",t)},expression:"loginForm.username"}},[t("svg-icon",{staticClass:"el-input__icon input-icon",attrs:{slot:"prefix","icon-class":"user"},slot:"prefix"})],1)],1),e._v(" "),t("el-form-item",{attrs:{prop:"password"}},[t("el-input",{attrs:{type:"password","auto-complete":"off",placeholder:"密码"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleLogin.apply(null,arguments)}},model:{value:e.loginForm.password,callback:function(t){e.$set(e.loginForm,"password",t)},expression:"loginForm.password"}},[t("svg-icon",{staticClass:"el-input__icon input-icon",attrs:{slot:"prefix","icon-class":"password"},slot:"prefix"})],1)],1),e._v(" "),t("el-checkbox",{staticStyle:{margin:"0 0 25px 0"},model:{value:e.loginForm.rememberMe,callback:function(t){e.$set(e.loginForm,"rememberMe",t)},expression:"loginForm.rememberMe"}},[e._v("\n      记住我\n    ")]),e._v(" "),t("el-form-item",{staticStyle:{width:"100%"}},[t("el-button",{staticStyle:{width:"100%"},attrs:{loading:e.loading,size:"medium",type:"primary"},nativeOn:{click:function(t){return t.preventDefault(),e.handleLogin.apply(null,arguments)}}},[e.loading?t("span",[e._v("登 录 中...")]):t("span",[e._v("登 录")])])],1)],1),e._v(" "),e.$store.state.settings.showFooter?t("div",{attrs:{id:"el-login-footer"}},[t("span",{domProps:{innerHTML:e._s(e.$store.state.settings.footerTxt)}}),e._v(" "),e.$store.state.settings.caseNumber?t("span",[e._v(" ⋅ ")]):e._e(),e._v(" "),t("a",{attrs:{href:"https://beian.miit.gov.cn/#/Integrated/index",target:"_blank"}},[e._v(e._s(e.$store.state.settings.caseNumber))])]):e._e()],1)},o=[];s("14d9"),s("9816");var i=s("83d6"),n=s.n(i),a=(s("7ded"),s("a78e")),l=s.n(a),m=s("4328"),d=s.n(m),c=s("7718"),p=s.n(c),u={name:"Login",data(){return{Background:p.a,codeUrl:"",cookiePass:"",loginForm:{username:"admin",password:"123456",rememberMe:!1},loginRules:{username:[{required:!0,trigger:"blur",message:"用户名不能为空"}],password:[{required:!0,trigger:"blur",message:"密码不能为空"}]},loading:!1,redirect:void 0}},watch:{$route:{handler:function(e){const t=e.query;t&&t.redirect&&(this.redirect=t.redirect,delete t.redirect,"{}"!==JSON.stringify(t)&&(this.redirect=this.redirect+"&"+d.a.stringify(t,{indices:!1})))},immediate:!0}},created(){this.getCookie(),this.point()},methods:{getCookie(){const e=l.a.get("username");let t=l.a.get("password");const s=l.a.get("rememberMe");this.cookiePass=void 0===t?"":t,t=void 0===t?this.loginForm.password:t,this.loginForm={username:void 0===e?this.loginForm.username:e,password:t,rememberMe:void 0!==s&&Boolean(s)}},handleLogin(){this.$refs.loginForm.validate(e=>{const t={username:this.loginForm.username,password:this.loginForm.password,rememberMe:this.loginForm.rememberMe};if(t.password,this.cookiePass,!e)return console.log("error submit!!"),!1;this.loading=!0,t.rememberMe?(l.a.set("username",t.username,{expires:n.a.passCookieExpires}),l.a.set("password",t.password,{expires:n.a.passCookieExpires}),l.a.set("rememberMe",t.rememberMe,{expires:n.a.passCookieExpires})):(l.a.remove("username"),l.a.remove("password"),l.a.remove("rememberMe")),this.$store.dispatch("Login",t).then(()=>{this.loading=!1,this.$router.push({path:this.redirect||"/"})}).catch(e=>{console.log("error",e),this.loading=!1})})},point(){const e=void 0!==l.a.get("point");e&&(this.$notify({title:"提示",message:"当前登录状态已过期，请重新登录！",type:"warning",duration:5e3}),this.loginForm.username="",this.loginForm.password="",l.a.remove("password"),l.a.remove("username"),l.a.remove("point"))}}},g=u,h=(s("4ab4"),s("2877")),f=Object(h["a"])(g,r,o,!1,null,null,null);t["default"]=f.exports}}]);