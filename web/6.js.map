{"version":3,"file":"6.js","sources":["webpack:///./src/views/login.vue?c1ae","webpack:///./src/views/login.vue?ee50","webpack:///./src/views/login.vue?1433","webpack:///./src/views/login.vue?940d","webpack:///./src/assets/images/background.webp","webpack:///./src/utils/rsaEncrypt.js","webpack:///./src/views/login.vue","webpack:///./src/views/login.vue?d4c9","webpack:///./src/views/login.vue?90b1","webpack:///./src/views/login.vue?5aad"],"sourcesContent":["import \"core-js/modules/es.array.push.js\";\nimport { encrypt, decrypt } from '@/utils/rsaEncrypt';\nimport Config from '@/settings';\nimport { getCodeImg } from '@/api/login';\nimport Cookies from 'js-cookie';\nimport qs from 'qs';\nimport Background from '@/assets/images/background.webp';\nexport default {\n  name: 'Login',\n  data() {\n    return {\n      Background: Background,\n      codeUrl: '',\n      cookiePass: '',\n      loginForm: {\n        username: 'admin',\n        password: '123456',\n        rememberMe: false\n      },\n      loginRules: {\n        username: [{\n          required: true,\n          trigger: 'blur',\n          message: '用户名不能为空'\n        }],\n        password: [{\n          required: true,\n          trigger: 'blur',\n          message: '密码不能为空'\n        }]\n      },\n      loading: false,\n      redirect: undefined\n    };\n  },\n  watch: {\n    $route: {\n      handler: function (route) {\n        const data = route.query;\n        if (data && data.redirect) {\n          this.redirect = data.redirect;\n          delete data.redirect;\n          if (JSON.stringify(data) !== '{}') {\n            this.redirect = this.redirect + '&' + qs.stringify(data, {\n              indices: false\n            });\n          }\n        }\n      },\n      immediate: true\n    }\n  },\n  created() {\n    // 获取用户名密码等Cookie\n    this.getCookie();\n    // token 过期提示\n    this.point();\n  },\n  methods: {\n    getCookie() {\n      const username = Cookies.get('username');\n      let password = Cookies.get('password');\n      const rememberMe = Cookies.get('rememberMe');\n      // 保存cookie里面的加密后的密码\n      this.cookiePass = password === undefined ? '' : password;\n      password = password === undefined ? this.loginForm.password : password;\n      this.loginForm = {\n        username: username === undefined ? this.loginForm.username : username,\n        password: password,\n        rememberMe: rememberMe === undefined ? false : Boolean(rememberMe)\n      };\n    },\n    handleLogin() {\n      this.$refs.loginForm.validate(valid => {\n        const user = {\n          username: this.loginForm.username,\n          password: this.loginForm.password,\n          rememberMe: this.loginForm.rememberMe\n        };\n        if (user.password !== this.cookiePass) {\n          // user.password = encrypt(user.password)\n        }\n        if (valid) {\n          this.loading = true;\n          if (user.rememberMe) {\n            Cookies.set('username', user.username, {\n              expires: Config.passCookieExpires\n            });\n            Cookies.set('password', user.password, {\n              expires: Config.passCookieExpires\n            });\n            Cookies.set('rememberMe', user.rememberMe, {\n              expires: Config.passCookieExpires\n            });\n          } else {\n            Cookies.remove('username');\n            Cookies.remove('password');\n            Cookies.remove('rememberMe');\n          }\n          // 加密存储，暂时不加密传送\n          // user.password = decrypt(user.password)\n          this.$store.dispatch('Login', user).then(() => {\n            this.loading = false;\n            this.$router.push({\n              path: this.redirect || '/'\n            });\n          }).catch(res => {\n            console.log(\"error\", res);\n            this.loading = false;\n          });\n        } else {\n          console.log('error submit!!');\n          return false;\n        }\n      });\n    },\n    point() {\n      const point = Cookies.get('point') !== undefined;\n      if (point) {\n        this.$notify({\n          title: '提示',\n          message: '当前登录状态已过期，请重新登录！',\n          type: 'warning',\n          duration: 5000\n        });\n        this.loginForm.username = \"\";\n        this.loginForm.password = \"\";\n        Cookies.remove('password');\n        Cookies.remove('username');\n        Cookies.remove('point');\n      }\n    }\n  }\n};","var render = function render() {\n  var _vm = this,\n    _c = _vm._self._c;\n  return _c(\"div\", {\n    staticClass: \"login\",\n    style: \"background-image:url(\" + _vm.Background + \");\"\n  }, [_c(\"el-form\", {\n    ref: \"loginForm\",\n    staticClass: \"login-form\",\n    attrs: {\n      model: _vm.loginForm,\n      rules: _vm.loginRules,\n      \"label-position\": \"left\",\n      \"label-width\": \"0px\"\n    }\n  }, [_c(\"h3\", {\n    staticClass: \"title\"\n  }, [_vm._v(\"\\n      Aurora 后台管理系统\\n    \")]), _vm._v(\" \"), _c(\"el-form-item\", {\n    attrs: {\n      prop: \"username\"\n    }\n  }, [_c(\"el-input\", {\n    attrs: {\n      type: \"text\",\n      \"auto-complete\": \"off\",\n      placeholder: \"账号\"\n    },\n    model: {\n      value: _vm.loginForm.username,\n      callback: function ($$v) {\n        _vm.$set(_vm.loginForm, \"username\", $$v);\n      },\n      expression: \"loginForm.username\"\n    }\n  }, [_c(\"svg-icon\", {\n    staticClass: \"el-input__icon input-icon\",\n    attrs: {\n      slot: \"prefix\",\n      \"icon-class\": \"user\"\n    },\n    slot: \"prefix\"\n  })], 1)], 1), _vm._v(\" \"), _c(\"el-form-item\", {\n    attrs: {\n      prop: \"password\"\n    }\n  }, [_c(\"el-input\", {\n    attrs: {\n      type: \"password\",\n      \"auto-complete\": \"off\",\n      placeholder: \"密码\"\n    },\n    nativeOn: {\n      keyup: function ($event) {\n        if (!$event.type.indexOf(\"key\") && _vm._k($event.keyCode, \"enter\", 13, $event.key, \"Enter\")) return null;\n        return _vm.handleLogin.apply(null, arguments);\n      }\n    },\n    model: {\n      value: _vm.loginForm.password,\n      callback: function ($$v) {\n        _vm.$set(_vm.loginForm, \"password\", $$v);\n      },\n      expression: \"loginForm.password\"\n    }\n  }, [_c(\"svg-icon\", {\n    staticClass: \"el-input__icon input-icon\",\n    attrs: {\n      slot: \"prefix\",\n      \"icon-class\": \"password\"\n    },\n    slot: \"prefix\"\n  })], 1)], 1), _vm._v(\" \"), _c(\"el-checkbox\", {\n    staticStyle: {\n      margin: \"0 0 25px 0\"\n    },\n    model: {\n      value: _vm.loginForm.rememberMe,\n      callback: function ($$v) {\n        _vm.$set(_vm.loginForm, \"rememberMe\", $$v);\n      },\n      expression: \"loginForm.rememberMe\"\n    }\n  }, [_vm._v(\"\\n      记住我\\n    \")]), _vm._v(\" \"), _c(\"el-form-item\", {\n    staticStyle: {\n      width: \"100%\"\n    }\n  }, [_c(\"el-button\", {\n    staticStyle: {\n      width: \"100%\"\n    },\n    attrs: {\n      loading: _vm.loading,\n      size: \"medium\",\n      type: \"primary\"\n    },\n    nativeOn: {\n      click: function ($event) {\n        $event.preventDefault();\n        return _vm.handleLogin.apply(null, arguments);\n      }\n    }\n  }, [!_vm.loading ? _c(\"span\", [_vm._v(\"登 录\")]) : _c(\"span\", [_vm._v(\"登 录 中...\")])])], 1)], 1), _vm._v(\" \"), _vm.$store.state.settings.showFooter ? _c(\"div\", {\n    attrs: {\n      id: \"el-login-footer\"\n    }\n  }, [_c(\"span\", {\n    domProps: {\n      innerHTML: _vm._s(_vm.$store.state.settings.footerTxt)\n    }\n  }), _vm._v(\" \"), _vm.$store.state.settings.caseNumber ? _c(\"span\", [_vm._v(\" ⋅ \")]) : _vm._e(), _vm._v(\" \"), _c(\"a\", {\n    attrs: {\n      href: \"https://beian.miit.gov.cn/#/Integrated/index\",\n      target: \"_blank\"\n    }\n  }, [_vm._v(_vm._s(_vm.$store.state.settings.caseNumber))])]) : _vm._e()], 1);\n};\nvar staticRenderFns = [];\nrender._withStripped = true;\nexport { render, staticRenderFns };","exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".login{display:flex;justify-content:center;align-items:center;height:100%;background-size:cover}.title{margin:0 auto 30px auto;text-align:center;color:#707070}.login-form{border-radius:6px;background:#fff;width:385px;padding:25px 25px 5px 25px}.login-form .el-input{height:38px}.login-form .el-input input{height:38px}.login-form .input-icon{height:39px;width:14px;margin-left:2px}.login-tip{font-size:13px;text-align:center;color:#bfbfbf}.login-code{width:33%;display:inline-block;height:38px;float:right}.login-code img{cursor:pointer;vertical-align:middle}\", \"\"]);\n\n// exports\n","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./login.vue?vue&type=style&index=0&id=7589b93f&rel=stylesheet%2Fscss&lang=scss&\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"fd55c21c\", content, false, {\"sourceMap\":false,\"shadowMode\":false});\n// Hot Module Replacement\nif(module.hot) {\n // When the styles change, update the <style> tags\n if(!content.locals) {\n   module.hot.accept(\"!!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./login.vue?vue&type=style&index=0&id=7589b93f&rel=stylesheet%2Fscss&lang=scss&\", function() {\n     var newContent = require(\"!!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./login.vue?vue&type=style&index=0&id=7589b93f&rel=stylesheet%2Fscss&lang=scss&\");\n     if(newContent.__esModule) newContent = newContent.default;\n     if(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n     update(newContent);\n   });\n }\n // When the module is disposed, remove the <style> tags\n module.hot.dispose(function() { update(); });\n}","module.exports = __webpack_public_path__ + \"static/img/background.e59d04cc.webp\";","import JSEncrypt from 'jsencrypt';\n\n// 密钥对生成 http://web.chacuo.net/netrsakeypair\n\nconst publicKey = 'MFwwDQYJKoZIhvcNAQEBBQADSwAwSAJBAMdWCc+jR7+fZh+ZW9PZm8wHyO0wOW2+\\n' + 'E8cohZ+i1bCe7v87MVL7jhm2IjulInL4+ZAK21yDF5q1/LLe0hXjxBMCAwEAAQ==';\nconst privateKey = 'MIIBVQIBADANBgkqhkiG9w0BAQEFAASCAT8wggE7AgEAAkEAx1YJz6NHv59mH5lb\\n' + '09mbzAfI7TA5bb4TxyiFn6LVsJ7u/zsxUvuOGbYiO6Uicvj5kArbXIMXmrX8st7S\\n' + 'FePEEwIDAQABAkEAnmiYWWLHlNdmf7wOxndLIUQaf6twJ+8CpqVkMy1jJfxurLzr\\n' + 'JSDEHjmA6wHATcjgvqd2mmBrbxPTqVxQ+QH0CQIhAPrXU/eQLNGpEPYRz9aEhM7c\\n' + 'Ir+VHFNyEdsVPOUOhO5dAiEAy2+JovhrpRoFyhBZLkOm4GiSaWx2DJmKyedxTQkB\\n' + '9S8CIDEByMHhRSBhK5Mnv7dlhJz1nURY2YPkEWEAMTl/MLFxAiA6mZBuD10Cm/Ja\\n' + '+EaYGwiwz66NC58dlgTyj+aFKDkWJQIhAO2jLPgWiFSzj6v9zfhH/NIG10ZrFcv4';\n\n// 加密\nexport function encrypt(txt) {\n  const encryptor = new JSEncrypt();\n  encryptor.setPublicKey(publicKey); // 设置公钥\n  return encryptor.encrypt(txt); // 对需要加密的数据进行加密\n}\n\n// 解密\nexport function decrypt(txt) {\n  const decryptor = new JSEncrypt();\n  decryptor.setPrivateKey(privateKey); // 设置私钥\n  return decryptor.decrypt(txt); // 对需要加密的数据进行解密\n}","import { render, staticRenderFns } from \"./login.vue?vue&type=template&id=7589b93f&\"\nimport script from \"./login.vue?vue&type=script&lang=js&\"\nexport * from \"./login.vue?vue&type=script&lang=js&\"\nimport style0 from \"./login.vue?vue&type=style&index=0&id=7589b93f&rel=stylesheet%2Fscss&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"C:\\\\Users\\\\Administrator\\\\vue-projects\\\\vue2\\\\aurora-frontend\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('7589b93f')) {\n      api.createRecord('7589b93f', component.options)\n    } else {\n      api.reload('7589b93f', component.options)\n    }\n    module.hot.accept(\"./login.vue?vue&type=template&id=7589b93f&\", function () {\n      api.rerender('7589b93f', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"src/views/login.vue\"\nexport default component.exports","import mod from \"-!../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js??ref--12-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js??ref--12-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./login.vue?vue&type=script&lang=js&\"","export * from \"-!../../node_modules/vue-style-loader/index.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./login.vue?vue&type=style&index=0&id=7589b93f&rel=stylesheet%2Fscss&lang=scss&\"","export * from \"-!../../node_modules/cache-loader/dist/cjs.js?{\\\"cacheDirectory\\\":\\\"node_modules/.cache/vue-loader\\\",\\\"cacheIdentifier\\\":\\\"e806ba62-vue-loader-template\\\"}!../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js??ref--12-0!../../node_modules/vue-loader/lib/loaders/templateLoader.js??ref--6!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./login.vue?vue&type=template&id=7589b93f&\""],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACrIA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACrHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACPA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;ACvBA;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACnBA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACvCA;AAAA;AAAA;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;A","sourceRoot":""}